# 오픈소스소프트웨어(OSS) 원격 수업 28~30 정리

## 28. 버전 되돌리기 (reset)

### reset 개념
- 커밋 이력에서 이전 특정 커밋으로 완전히 되돌아가는 방법
- 이동되는 커밋 이후의 이력은 모두 사라짐 → 주의 필요
- 깃 저장소는 지정한 커밋 내용으로 수정

### reset 옵션
| 옵션 | 설명 |
|------|------|
| --hard | 작업 폴더, 스테이지, 깃 저장소 모두 지정 커밋 내용으로 변경. 이전 작업 내용 모두 삭제 |
| --mixed | 깃 저장소와 스테이지 영역은 지정 커밋으로 변경, 작업 폴더 내용은 유지. 기본 옵션 |
| --soft | 깃 저장소만 지정 커밋으로 변경, 작업 폴더와 스테이지 내용은 그대로 유지 |

### 이전 커밋 참조
git reset --hard ORIG_HEAD

### reset과 checkout 비교
- git reset 9033     # 브랜치 마지막 커밋을 수정
- git checkout 9033  # HEAD 포인터를 이전 커밋으로 이동

## 30. 커밋 취소 (revert)
## revert 개념
- 특정 커밋을 취소하고 이전 상태로 되돌리지만, 이전 히스토리는 그대로 유지
- 새로운 커밋이 추가되어 취소 내용 반영
- reset과 달리 작업 영역이 깨끗해야 수행 가능

### revert 충돌
- HEAD 이전 커밋을 취소할 경우 충돌 발생 가능
-  바로 이전 취소를 여러 번 반복하면 충돌 방지 가능

### revert 명령
- git revert HEAD~              # 편집기 실행, 메시지 수정 가능
- git revert [commit_ID]        # 특정 커밋 취소
- git revert HEAD~ --no-edit    # 메시지 자동 생성
- git revert [commit_ID] --no-edit

### revert 오류 해결
- 작업 영역에 커밋하지 않은 내용이 있으면 오류 발생
- 해결 방법
    -먼저 커밋 후 revert
    -또는 reset --hard 사용:
- git reset --hard HEAD~         # 이전 커밋 내용으로 완전히 되돌림

### reset vs revert
| 구분 | 설명 |
|------|------|
| reset | 특정 커밋으로 되돌아가고 이후 로그 이력 제거 |
| revert | 특정 커밋을 취소하는 새로운 커밋 생성, 이전 이력은 그대로 유지 |
