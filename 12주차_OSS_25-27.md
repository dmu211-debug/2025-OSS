# 오픈소스소프트웨어(OSS) 원격 수업 25~27 정리

## 25. 브랜치 리베이스(Rebase)

### 3-way 상태에서 Base의 이해
- 'master' 브랜치 커밋 B에서 분기되는 'bugfix' 브랜치
  - 커밋 B
  - 현재 master와 bugfix의 공통조상: **base**

### Rebase 이해
- Base를 최신 커밋으로 수정
  - B에서 master의 최신 커밋 D로 수정
- 이후 fast-forward 병합 수행
  - master 브랜치의 HEAD가 bugfix 브랜치 마지막 커밋으로 이동
  - 로그 이력이 분기 없이 하나의 줄기로 이어짐

### Merge, Fast-forward, Rebase 비교
| 구분 | 특징 |
|------|------|
| Merge | 여러 분기 이력 그대로 남음, 복잡한 로그 |
| Rebase | 히스토리 선형, 깨끗한 이력, 기존 커밋 ID 변경 |
| Fast-forward | 조상 브랜치에서 선행 브랜치 마지막 커밋으로 이동 |

### 일반적인 Rebase 방법
```bash
- git checkout topic
- git rebase main
- git checkout main
- git merge topic

### 다른 Rebase 방법
- git rebase main topic
- git checkout main
- git merge topic

##26. 커밋 이력 수정
###최근 커밋 메시지 수정
- git config --global core.editor 'code --wait'  # 기본 편집기 설정
- git commit --amend                             # 최근 커밋 메시지 편집기에서 수정
- git commit --amend -m 'msg'                    # 메시지 직접 수정
- git commit --amend --no-edit                   # 메시지 변경 없이 커밋 수정

### Rebase의 --interactive 사용
- 작업공간이 깨끗한 상태에서 여러 커밋 수정 가능
- 이전 커밋 수정 시 새로운 ID 부여
### 주요 명령어
- git rebase --interactive HEAD~3  # HEAD~3 : 이전 3개 커밋 편집 가능

### rebase -i 대화형 명령어
| 명령 | 설명 |
|------|------|
| p(ick) | 해당 커밋 그대로 사용 |
| r(eword) | 커밋 메시지 수정 |
| s(quash) | 이후 커밋을 이전 커밋에 합침 |
